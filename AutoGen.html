<!DOCTYPE html>
<!-- saved from url=(0090)https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html -->
<html lang="en" data-content_root="../../" data-mode="auto" data-theme="light" class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1">

    <title>GraphFlow (Workflows) — AutoGen</title>
  
  
  
  <script async="" src="./GraphFlow (Workflows) — AutoGen_files/clarity.js"></script><script async="" src="./GraphFlow (Workflows) — AutoGen_files/lnxpe6skj1"></script><script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <style type="text/css">:host,:root{--fa-font-solid:normal 900 1em/1 "Font Awesome 6 Solid";--fa-font-regular:normal 400 1em/1 "Font Awesome 6 Regular";--fa-font-light:normal 300 1em/1 "Font Awesome 6 Light";--fa-font-thin:normal 100 1em/1 "Font Awesome 6 Thin";--fa-font-duotone:normal 900 1em/1 "Font Awesome 6 Duotone";--fa-font-sharp-solid:normal 900 1em/1 "Font Awesome 6 Sharp";--fa-font-sharp-regular:normal 400 1em/1 "Font Awesome 6 Sharp";--fa-font-sharp-light:normal 300 1em/1 "Font Awesome 6 Sharp";--fa-font-sharp-thin:normal 100 1em/1 "Font Awesome 6 Sharp";--fa-font-brands:normal 400 1em/1 "Font Awesome 6 Brands"}svg:not(:host).svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible;box-sizing:content-box}.svg-inline--fa{display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-2xs{vertical-align:.1em}.svg-inline--fa.fa-xs{vertical-align:0}.svg-inline--fa.fa-sm{vertical-align:-.0714285705em}.svg-inline--fa.fa-lg{vertical-align:-.2em}.svg-inline--fa.fa-xl{vertical-align:-.25em}.svg-inline--fa.fa-2xl{vertical-align:-.3125em}.svg-inline--fa.fa-pull-left{margin-right:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-pull-right{margin-left:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-li{width:var(--fa-li-width,2em);top:.25em}.svg-inline--fa.fa-fw{width:var(--fa-fw-width,1.25em)}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:var(--fa-counter-background-color,#ff253a);border-radius:var(--fa-counter-border-radius,1em);box-sizing:border-box;color:var(--fa-inverse,#fff);line-height:var(--fa-counter-line-height,1);max-width:var(--fa-counter-max-width,5em);min-width:var(--fa-counter-min-width,1.5em);overflow:hidden;padding:var(--fa-counter-padding,.25em .5em);right:var(--fa-right,0);text-overflow:ellipsis;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-counter-scale,.25));transform:scale(var(--fa-counter-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:var(--fa-bottom,0);right:var(--fa-right,0);top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:var(--fa-bottom,0);left:var(--fa-left,0);right:auto;top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{top:var(--fa-top,0);right:var(--fa-right,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:var(--fa-left,0);right:auto;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top left;transform-origin:top left}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.0833333337em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.0714285718em;vertical-align:.0535714295em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.0416666682em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(var(--fa-li-width,2em) * -1);position:absolute;text-align:center;width:var(--fa-li-width,2em);line-height:inherit}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.08em);padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{-webkit-animation-name:fa-beat;animation-name:fa-beat;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{-webkit-animation-name:fa-bounce;animation-name:fa-bounce;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{-webkit-animation-name:fa-fade;animation-name:fa-fade;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade{-webkit-animation-name:fa-beat-fade;animation-name:fa-beat-fade;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{-webkit-animation-name:fa-flip;animation-name:fa-flip;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{-webkit-animation-name:fa-shake;animation-name:fa-shake;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-delay:var(--fa-animation-delay,0s);animation-delay:var(--fa-animation-delay,0s);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,2s);animation-duration:var(--fa-animation-duration,2s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,steps(8));animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{-webkit-animation-delay:-1ms;animation-delay:-1ms;-webkit-animation-duration:1ms;animation-duration:1ms;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-duration:0s;transition-duration:0s}}@-webkit-keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@-webkit-keyframes fa-bounce{0%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}100%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}}@keyframes fa-bounce{0%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}100%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}}@-webkit-keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@-webkit-keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@-webkit-keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@-webkit-keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}100%,40%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}100%,40%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}.fa-rotate-by{-webkit-transform:rotate(var(--fa-rotate-angle,0));transform:rotate(var(--fa-rotate-angle,0))}.fa-stack{display:inline-block;vertical-align:middle;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;z-index:var(--fa-stack-z-index,auto)}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:var(--fa-inverse,#fff)}.fa-sr-only,.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.fa-sr-only-focusable:not(:focus),.sr-only-focusable:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor);opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fa-duotone.fa-inverse,.fad.fa-inverse{color:var(--fa-inverse,#fff)}</style><link href="./GraphFlow (Workflows) — AutoGen_files/theme.css" rel="stylesheet">
<link href="./GraphFlow (Workflows) — AutoGen_files/pydata-sphinx-theme.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/pygments.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/graphviz.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/copybutton.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/autodoc_pydantic.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/sphinx-design.min.css">
    <link rel="stylesheet" type="text/css" href="./GraphFlow (Workflows) — AutoGen_files/custom.css">
  
  <!-- So that users can add custom icons -->
  <script src="./GraphFlow (Workflows) — AutoGen_files/fontawesome.js"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="./GraphFlow (Workflows) — AutoGen_files/bootstrap.js">
<link rel="preload" as="script" href="./GraphFlow (Workflows) — AutoGen_files/pydata-sphinx-theme.js">

    <script src="./GraphFlow (Workflows) — AutoGen_files/documentation_options.js"></script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/doctools.js"></script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/sphinx_highlight.js"></script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/clipboard.min.js"></script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/copybutton.js"></script>
    <script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "lnxpe6skj1");</script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user-guide/agentchat-user-guide/graph-flow';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.0';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/microsoft/autogen/refs/heads/main/docs/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'stable';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/custom-icon.js"></script>
    <script src="./GraphFlow (Workflows) — AutoGen_files/banner-override.js"></script><style>
#bd-header-version-warning {
  display: none;
}
  </style>
    <script src="./GraphFlow (Workflows) — AutoGen_files/custom.js"></script>
    <link rel="canonical" href="https://microsoft.github.io/autogen/stable//user-guide/agentchat-user-guide/graph-flow.html">
    <link rel="icon" href="https://microsoft.github.io/autogen/stable/_static/favicon-512x512.png">
    <link rel="index" title="Index" href="https://microsoft.github.io/autogen/stable/genindex.html">
    <link rel="search" title="Search" href="https://microsoft.github.io/autogen/stable/search.html">
    <link rel="next" title="Memory and RAG" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/memory.html">
    <link rel="prev" title="Magentic-One" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/magentic-one.html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="docsearch:language" content="en">
  <meta name="docsearch:version" content="0.4">
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top" style="display: none;">
    <svg class="svg-inline--fa fa-arrow-up" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"></path></svg><!-- <i class="fa-solid fa-arrow-up"></i> Font Awesome fontawesome.com -->Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center" action="https://microsoft.github.io/autogen/stable/search.html" method="get">
  <svg class="svg-inline--fa fa-magnifying-glass" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="magnifying-glass" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path></svg><!-- <i class="fa-solid fa-magnifying-glass"></i> Font Awesome fontawesome.com -->
  <input type="search" class="form-control" name="q" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">⌘</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer" style="height: auto;">
  <aside id="bd-header-version-warning" class="d-print-none" aria-label="Version warning"><div class="bd-header-announcement__content  ms-auto me-auto"><div class="sidebar-message">This is documentation for <strong>version stable</strong>.<a class="btn text-wrap font-weight-bold ms-3 my-1 align-baseline pst-button-link-to-stable-version" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html">Switch to stable version</a></div></div><a class="ms-3 my-1 align-baseline"><svg class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="xmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"></path></svg><!-- <i class="fa-solid fa-xmark"></i> Font Awesome fontawesome.com --></a></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <svg class="svg-inline--fa fa-bars" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg><!-- <span class="fa-solid fa-bars"></span> Font Awesome fontawesome.com -->
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="https://microsoft.github.io/autogen/stable/index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="./GraphFlow (Workflows) — AutoGen_files/logo.svg" class="logo__image only-light" alt="AutoGen - Home">
    <img src="./GraphFlow (Workflows) — AutoGen_files/logo.svg" class="logo__image only-dark pst-js-only" alt="AutoGen - Home">
  
  
</a></div>
    
      <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2" type="button" class="version-switcher__button btn btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="listbox" aria-controls="pst-version-switcher-list-2" aria-label="Version switcher list" data-active-version-name="0.7.5 (stable)" data-active-version="stable">0.7.5 (stable)</button>
  <div id="pst-version-switcher-list-2" class="version-switcher__menu dropdown-menu list-group-flush py-0" role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  <a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/dev/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="dev (main)" data-version="dev"><span>dev (main)</span></a><a class="dropdown-item list-group-item list-group-item-action py-1 active" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.7.5 (stable)" data-version="stable" aria-selected="true"><span>0.7.5 (stable)</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.7.4/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.7.4" data-version="0.7.4"><span>0.7.4</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.7.3/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.7.3" data-version="0.7.3"><span>0.7.3</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.7.2/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.7.2" data-version="0.7.2"><span>0.7.2</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.7.1/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.7.1" data-version="0.7.1"><span>0.7.1</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.6.4/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.6.4" data-version="0.6.4"><span>0.6.4</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.6.2/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.6.2" data-version="0.6.2"><span>0.6.2</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.6.1/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.6.1" data-version="0.6.1"><span>0.6.1</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.7/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.7" data-version="0.5.7"><span>0.5.7</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.6/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.6" data-version="0.5.6"><span>0.5.6</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.5/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.5" data-version="0.5.5"><span>0.5.5</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.4/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.4" data-version="0.5.4"><span>0.5.4</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.3/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.3" data-version="0.5.3"><span>0.5.3</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.2/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.2" data-version="0.5.2"><span>0.5.2</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.5.1/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.5.1" data-version="0.5.1"><span>0.5.1</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.9/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.9" data-version="0.4.9"><span>0.4.9</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.8/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.8" data-version="0.4.8"><span>0.4.8</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.7/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.7" data-version="0.4.7"><span>0.4.7</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.6/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.6" data-version="0.4.6"><span>0.4.6</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.5/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.5" data-version="0.4.5"><span>0.4.5</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.4/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.4" data-version="0.4.4"><span>0.4.4</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.3/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.3" data-version="0.4.3"><span>0.4.3</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.2/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.2" data-version="0.4.2"><span>0.4.2</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.1/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.1" data-version="0.4.1"><span>0.4.1</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.4.0/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.4.0" data-version="0.4.0"><span>0.4.0</span></a><a class="dropdown-item list-group-item list-group-item-action py-1" href="https://microsoft.github.io/autogen/0.2/user-guide/agentchat-user-guide/graph-flow.html" role="option" data-version-name="0.2" data-version="0.2"><span>0.2</span></a></div>
</div></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html">
    AgentChat
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html">
    Core
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html">
    Extensions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html">
    Studio
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/reference/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://microsoft.github.io/autogen/dotnet/">
    .NET
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://microsoft.github.io/autogen/0.2/">
    0.2 Docs
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip" data-bs-original-title="Search">
 <svg class="svg-inline--fa fa-magnifying-glass" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="magnifying-glass" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path></svg><!-- <i class="fa-solid fa-magnifying-glass"></i> Font Awesome fontawesome.com -->
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">⌘</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <svg class="svg-inline--fa fa-sun theme-switch fa-lg" data-mode="light" aria-labelledby="svg-inline--fa-title-yhALvA9ecf5y" data-prefix="fas" data-icon="sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><title id="svg-inline--fa-title-yhALvA9ecf5y">Light</title><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg><!-- <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i> Font Awesome fontawesome.com -->
  <svg class="svg-inline--fa fa-moon theme-switch fa-lg" data-mode="dark" aria-labelledby="svg-inline--fa-title-FOhnRFfCmhxz" data-prefix="fas" data-icon="moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><title id="svg-inline--fa-title-FOhnRFfCmhxz">Dark</title><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path></svg><!-- <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark" title="Dark"></i> Font Awesome fontawesome.com -->
  <svg class="svg-inline--fa fa-circle-half-stroke theme-switch fa-lg" data-mode="auto" aria-labelledby="svg-inline--fa-title-hVzCpsW1kn9X" data-prefix="fas" data-icon="circle-half-stroke" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><title id="svg-inline--fa-title-hVzCpsW1kn9X">System Settings</title><path fill="currentColor" d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"></path></svg><!-- <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i> Font Awesome fontawesome.com -->
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/microsoft/autogen" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="GitHub"><svg class="svg-inline--fa fa-github fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fa-brands fa-github fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://aka.ms/autogen-discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Discord"><svg class="svg-inline--fa fa-discord fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg><!-- <i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pyautogen" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Twitter"><svg class="svg-inline--fa fa-twitter fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip" data-bs-original-title="Search">
 <svg class="svg-inline--fa fa-magnifying-glass" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="magnifying-glass" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path></svg><!-- <i class="fa-solid fa-magnifying-glass"></i> Font Awesome fontawesome.com -->
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">⌘</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <svg class="svg-inline--fa fa-outdent" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="outdent" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64zM192 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32zm32 96H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zM0 448c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM.2 268.6c-8.2-6.4-8.2-18.9 0-25.3l101.9-79.3c10.5-8.2 25.8-.7 25.8 12.6V335.3c0 13.3-15.3 20.8-25.8 12.6L.2 268.6z"></path></svg><!-- <span class="fa-solid fa-outdent"></span> Font Awesome fontawesome.com -->
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html">
    AgentChat
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html">
    Core
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html">
    Extensions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html">
    Studio
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="https://microsoft.github.io/autogen/stable/reference/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://microsoft.github.io/autogen/dotnet/">
    .NET
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://microsoft.github.io/autogen/0.2/">
    0.2 Docs
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <svg class="svg-inline--fa fa-sun theme-switch fa-lg" data-mode="light" aria-labelledby="svg-inline--fa-title-SuV9LzmXmcJF" data-prefix="fas" data-icon="sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><title id="svg-inline--fa-title-SuV9LzmXmcJF">Light</title><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg><!-- <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i> Font Awesome fontawesome.com -->
  <svg class="svg-inline--fa fa-moon theme-switch fa-lg" data-mode="dark" aria-labelledby="svg-inline--fa-title-oFdYHFNtSsNR" data-prefix="fas" data-icon="moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><title id="svg-inline--fa-title-oFdYHFNtSsNR">Dark</title><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path></svg><!-- <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark" title="Dark"></i> Font Awesome fontawesome.com -->
  <svg class="svg-inline--fa fa-circle-half-stroke theme-switch fa-lg" data-mode="auto" aria-labelledby="svg-inline--fa-title-SA1ddzKnjCjt" data-prefix="fas" data-icon="circle-half-stroke" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><title id="svg-inline--fa-title-SA1ddzKnjCjt">System Settings</title><path fill="currentColor" d="M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"></path></svg><!-- <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i> Font Awesome fontawesome.com -->
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/microsoft/autogen" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="GitHub"><svg class="svg-inline--fa fa-github fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fa-brands fa-github fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://aka.ms/autogen-discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Discord"><svg class="svg-inline--fa fa-discord fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg><!-- <i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pyautogen" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Twitter"><svg class="svg-inline--fa fa-twitter fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i> Font Awesome fontawesome.com -->
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

<nav class="bd-docs-nav bd-links" aria-label="Section Navigation">
    <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/migration-guide.html">Migration Guide for v0.2 to v0.4</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/index.html" aria-label="Tutorial: Introduction">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/models.html" aria-label="Tutorial: Models">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/messages.html" aria-label="Tutorial: Messages">Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/agents.html" aria-label="Tutorial: Agents">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/teams.html" aria-label="Tutorial: Teams">Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/human-in-the-loop.html" aria-label="Tutorial: Human-in-the-Loop">Human-in-the-Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/termination.html" aria-label="Tutorial: Termination">Termination</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/state.html" aria-label="Tutorial: Managing State">Managing State</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/custom-agents.html" aria-label="Advanced: Custom Agents">Custom Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/selector-group-chat.html" aria-label="Advanced: Selector Group Chat">Selector Group Chat</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/swarm.html" aria-label="Advanced: Swarm">Swarm</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/magentic-one.html" aria-label="Advanced: Magentic-One">Magentic-One</a></li>
<li class="toctree-l1 current active" aria-current="page"><a class="current reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#" aria-label="Advanced: GraphFlow (Workflows)">GraphFlow (Workflows)</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/memory.html" aria-label="Advanced: Memory and RAG">Memory and RAG</a></li>




<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/logging.html" aria-label="Advanced: Logging">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/serialize-components.html" aria-label="Advanced: Serializing Components">Serializing Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tracing.html" aria-label="Advanced: Tracing and Observability">Tracing and Observability</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">More</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/examples/index.html" aria-label="More: Examples">Examples</a><details><summary aria-label="Expand Examples section"><span class="toctree-toggle" role="presentation"><svg class="svg-inline--fa fa-chevron-down" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"></path></svg><!-- <i class="fa-solid fa-chevron-down"></i> Font Awesome fontawesome.com --></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/examples/travel-planning.html" aria-label="More: Examples: Travel Planning">Travel Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/examples/company-research.html" aria-label="More: Examples: Company Research">Company Research</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/examples/literature-review.html" aria-label="More: Examples: Literature Review">Literature Review</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
            <li class="toctree-l1">
                <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.html" aria-label="More: API Reference">
                    <svg class="svg-inline--fa fa-file-code" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-code" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM265 255l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"></path></svg><!-- <i class="fa-solid fa-file-code"></i> Font Awesome fontawesome.com -->
                    API Reference
                </a>
            </li>
            <li class="toctree-l1">
                <a target="_blank" class="reference internal" href="https://pypi.org/project/autogen-agentchat/" aria-label="More: PyPi">
                    <svg class="svg-inline--fa fa-python" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="python" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"></path></svg><!-- <i class="fa-brands fa-python"></i> Font Awesome fontawesome.com -->
                    PyPi
                    <svg class="svg-inline--fa fa-arrow-up-right-from-square fa-2xs" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"></path></svg><!-- <i class="fa-solid fa-arrow-up-right-from-square fa-2xs"></i> Font Awesome fontawesome.com -->
                </a>
            </li>
            <li class="toctree-l1">
                <a target="_blank" class="reference internal" href="https://github.com/microsoft/autogen/tree/main/python/packages/autogen-agentchat" aria-label="More: Source">
                    <svg class="svg-inline--fa fa-github" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fa-brands fa-github"></i> Font Awesome fontawesome.com -->
                    Source
                    <svg class="svg-inline--fa fa-arrow-up-right-from-square fa-2xs" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"></path></svg><!-- <i class="fa-solid fa-arrow-up-right-from-square fa-2xs"></i> Font Awesome fontawesome.com -->
                </a>
            </li>
        </ul>
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://microsoft.github.io/autogen/stable/index.html" class="nav-link" aria-label="Home">
        <svg class="svg-inline--fa fa-house" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="house" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"></path></svg><!-- <i class="fa-solid fa-home"></i> Font Awesome fontawesome.com -->
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html" class="nav-link">AgentChat</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">GraphFlow (Workflows)</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="graphflow-workflows">
<h1>GraphFlow (Workflows)<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#graphflow-workflows" title="Link to this heading">#</a></h1>
<p>In this section you’ll learn how to create an <em>multi-agent workflow</em> using <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.GraphFlow" title="autogen_agentchat.teams.GraphFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphFlow</span></code></a>, or simply “flow” for short.
It uses structured execution and precisely controls how agents interact to accomplish a task.</p>
<p>We’ll first show you how to create and run a flow. We’ll then explain how to observe and debug flow behavior,
and discuss important operations for managing execution.</p>
<p>AutoGen AgentChat provides a team for directed graph execution:</p>
<ul class="simple">
<li><p><a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.GraphFlow" title="autogen_agentchat.teams.GraphFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphFlow</span></code></a>: A team that follows a <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.DiGraph" title="autogen_agentchat.teams.DiGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a>
to control the execution flow between agents.
Supports sequential, parallel, conditional, and looping behaviors.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>When should you use <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.GraphFlow" title="autogen_agentchat.teams.GraphFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphFlow</span></code></a>?</strong></p>
<p>Use Graph when you need strict control over the order in which agents act, or when different outcomes must lead to different next steps.
Start with a simple team such as <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.RoundRobinGroupChat" title="autogen_agentchat.teams.RoundRobinGroupChat"><code class="xref py py-class docutils literal notranslate"><span class="pre">RoundRobinGroupChat</span></code></a> or <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.SelectorGroupChat" title="autogen_agentchat.teams.SelectorGroupChat"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectorGroupChat</span></code></a>
if ad-hoc conversation flow is sufficient.
Transition to a structured workflow when your task requires deterministic control,
conditional branching, or handling complex multi-step processes with cycles.</p>
</div>
<blockquote>
<div><p><strong>Warning:</strong> <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.GraphFlow" title="autogen_agentchat.teams.GraphFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphFlow</span></code></a> is an <strong>experimental feature</strong>.
Its API, behavior, and capabilities are <strong>subject to change</strong> in future releases.</p>
</div></blockquote>
<section id="creating-and-running-a-flow">
<h2>Creating and Running a Flow<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#creating-and-running-a-flow" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.DiGraphBuilder" title="autogen_agentchat.teams.DiGraphBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraphBuilder</span></code></a> is a fluent utility that lets you easily construct execution graphs for workflows. It supports building:</p>
<ul class="simple">
<li><p>Sequential chains</p></li>
<li><p>Parallel fan-outs</p></li>
<li><p>Conditional branching</p></li>
<li><p>Loops with safe exit conditions</p></li>
</ul>
<p>Each node in the graph represents an agent, and edges define the allowed execution paths. Edges can optionally have conditions based on agent messages.</p>
<section id="sequential-flow">
<h3>Sequential Flow<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#sequential-flow" title="Link to this heading">#</a></h3>
<p>We will begin by creating a simple workflow where a <strong>writer</strong> drafts a paragraph and a <strong>reviewer</strong> provides feedback. This graph terminates after the reviewer comments on the writer.</p>
<p>Note, the flow automatically computes all the source and leaf nodes of the graph and the execution starts at all the source nodes in the graph and completes execution when no nodes are left to execute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell0" tabindex="0"><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">AssistantAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.teams</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiGraphBuilder</span><span class="p">,</span> <span class="n">GraphFlow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_ext.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>

<span class="c1"># Create an OpenAI model client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>

<span class="c1"># Create the writer agent</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"writer"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Draft a short paragraph on climate change."</span><span class="p">)</span>

<span class="c1"># Create the reviewer agent</span>
<span class="n">reviewer</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"reviewer"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Review the draft and suggest improvements."</span><span class="p">)</span>

<span class="c1"># Build the graph</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">reviewer</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">reviewer</span><span class="p">)</span>

<span class="c1"># Build and validate the graph</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

<span class="c1"># Create the flow</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">([</span><span class="n">writer</span><span class="p">,</span> <span class="n">reviewer</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell0">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell1" tabindex="0"><span></span><span class="c1"># Use `asyncio.run(...)` and wrap the below in a async function when running in a script.</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">run_stream</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">"Write a short paragraph about climate change."</span><span class="p">)</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="c1"># Use Console(flow.run_stream(...)) for better formatting in console.</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell1">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell2" tabindex="0"><span></span>source='user' models_usage=None metadata={} content='Write a short paragraph about climate change.' type='TextMessage'
source='writer' models_usage=RequestUsage(prompt_tokens=28, completion_tokens=95) metadata={} content='Climate change refers to long-term shifts in temperature, precipitation, and other atmospheric patterns, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These changes contribute to rising global temperatures, melting ice caps, more frequent and severe weather events, and adverse impacts on ecosystems and human communities. Addressing climate change requires global cooperation to reduce greenhouse gas emissions, transition to renewable energy sources, and implement sustainable practices to protect the planet for future generations.' type='TextMessage'
source='reviewer' models_usage=RequestUsage(prompt_tokens=127, completion_tokens=144) metadata={} content="The paragraph provides a clear overview of climate change, its causes, and its impacts. To enhance clarity and engagement, consider adding specific examples or emphasizing the urgency of action. Here's a revised version:\n\nClimate change is a long-term alteration of Earth's climate patterns caused primarily by human activities such as burning fossil fuels, deforestation, and industrial emissions. These actions increase greenhouse gases in the atmosphere, leading to rising global temperatures, melting ice caps, and more frequent extreme weather events like hurricanes and droughts. The effects threaten ecosystems, disrupt agriculture, and endanger communities worldwide. Addressing this crisis requires urgent, coordinated global efforts to reduce emissions, adopt renewable energy, and promote sustainable practices to safeguard the planet for future generations." type='TextMessage'
source='DiGraphStopAgent' models_usage=None metadata={} content='Digraph execution is complete' type='StopMessage'
messages=[TextMessage(source='user', models_usage=None, metadata={}, content='Write a short paragraph about climate change.', type='TextMessage'), TextMessage(source='writer', models_usage=RequestUsage(prompt_tokens=28, completion_tokens=95), metadata={}, content='Climate change refers to long-term shifts in temperature, precipitation, and other atmospheric patterns, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These changes contribute to rising global temperatures, melting ice caps, more frequent and severe weather events, and adverse impacts on ecosystems and human communities. Addressing climate change requires global cooperation to reduce greenhouse gas emissions, transition to renewable energy sources, and implement sustainable practices to protect the planet for future generations.', type='TextMessage'), TextMessage(source='reviewer', models_usage=RequestUsage(prompt_tokens=127, completion_tokens=144), metadata={}, content="The paragraph provides a clear overview of climate change, its causes, and its impacts. To enhance clarity and engagement, consider adding specific examples or emphasizing the urgency of action. Here's a revised version:\n\nClimate change is a long-term alteration of Earth's climate patterns caused primarily by human activities such as burning fossil fuels, deforestation, and industrial emissions. These actions increase greenhouse gases in the atmosphere, leading to rising global temperatures, melting ice caps, and more frequent extreme weather events like hurricanes and droughts. The effects threaten ecosystems, disrupt agriculture, and endanger communities worldwide. Addressing this crisis requires urgent, coordinated global efforts to reduce emissions, adopt renewable energy, and promote sustainable practices to safeguard the planet for future generations.", type='TextMessage'), StopMessage(source='DiGraphStopAgent', models_usage=None, metadata={}, content='Digraph execution is complete', type='StopMessage')] stop_reason='Stop message received'
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell2">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
<section id="parallel-flow-with-join">
<h3>Parallel Flow with Join<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#parallel-flow-with-join" title="Link to this heading">#</a></h3>
<p>We now create a slightly more complex flow:</p>
<ul class="simple">
<li><p>A <strong>writer</strong> drafts a paragraph.</p></li>
<li><p>Two <strong>editors</strong> independently edit for grammar and style (parallel fan-out).</p></li>
<li><p>A <strong>final reviewer</strong> consolidates their edits (join).</p></li>
</ul>
<p>Execution starts at the <strong>writer</strong>, fans out to <strong>editor1</strong> and <strong>editor2</strong> simultaneously, and then both feed into the <strong>final reviewer</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell3" tabindex="0"><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">AssistantAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.teams</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiGraphBuilder</span><span class="p">,</span> <span class="n">GraphFlow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.ui</span><span class="w"> </span><span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_ext.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>

<span class="c1"># Create an OpenAI model client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>

<span class="c1"># Create the writer agent</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"writer"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Draft a short paragraph on climate change."</span><span class="p">)</span>

<span class="c1"># Create two editor agents</span>
<span class="n">editor1</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"editor1"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Edit the paragraph for grammar."</span><span class="p">)</span>

<span class="n">editor2</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"editor2"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Edit the paragraph for style."</span><span class="p">)</span>

<span class="c1"># Create the final reviewer agent</span>
<span class="n">final_reviewer</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"final_reviewer"</span><span class="p">,</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="n">system_message</span><span class="o">=</span><span class="s2">"Consolidate the grammar and style edits into a final version."</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Build the workflow graph</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">editor1</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">editor2</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">final_reviewer</span><span class="p">)</span>

<span class="c1"># Fan-out from writer to editor1 and editor2</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">editor1</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">editor2</span><span class="p">)</span>

<span class="c1"># Fan-in both editors into final reviewer</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">editor1</span><span class="p">,</span> <span class="n">final_reviewer</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">editor2</span><span class="p">,</span> <span class="n">final_reviewer</span><span class="p">)</span>

<span class="c1"># Build and validate the graph</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

<span class="c1"># Create the flow</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span>
    <span class="n">participants</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">get_participants</span><span class="p">(),</span>
    <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Run the workflow</span>
<span class="k">await</span> <span class="n">Console</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">run_stream</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">"Write a short paragraph about climate change."</span><span class="p">))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell3">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell4" tabindex="0"><span></span>---------- TextMessage (user) ----------
Write a short paragraph about climate change.
---------- TextMessage (writer) ----------
Climate change refers to long-term shifts in weather patterns and global temperatures, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These activities increase concentrations of greenhouse gases like carbon dioxide and methane in the atmosphere, leading to global warming. The impacts of climate change include more frequent and severe weather events, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this urgent issue requires international cooperation, significant shifts toward renewable energy sources, and sustainable practices to reduce our carbon footprint and protect the planet for future generations.
---------- TextMessage (editor1) ----------
Climate change refers to long-term shifts in weather patterns and global temperatures, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These activities increase concentrations of greenhouse gases like carbon dioxide and methane in the atmosphere, leading to global warming. The impacts of climate change include more frequent and severe weather events, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this urgent issue requires international cooperation, significant shifts toward renewable energy sources, and sustainable practices to reduce our carbon footprint and protect the planet for future generations.
---------- TextMessage (editor2) ----------
Climate change involves long-term alterations in weather patterns and global temperatures, primarily caused by human activities like burning fossil fuels, deforestation, and industrial processes. These actions elevate levels of greenhouse gases such as carbon dioxide and methane, resulting in global warming. Its consequences are widespread, including more frequent and intense storms, rising sea levels, melting glaciers, and disturbances to ecosystems and agriculture. Combating this crisis demands international collaboration, a swift transition to renewable energy, and sustainable practices to cut carbon emissions, ensuring a healthier planet for future generations.
---------- TextMessage (final_reviewer) ----------
Climate change involves long-term alterations in weather patterns and global temperatures, primarily caused by human activities such as burning fossil fuels, deforestation, and industrial processes. These actions increase levels of greenhouse gases like carbon dioxide and methane, leading to global warming. Its consequences include more frequent and intense storms, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this crisis requires international collaboration, a swift transition to renewable energy, and sustainable practices to reduce carbon emissions, ensuring a healthier planet for future generations.
---------- StopMessage (DiGraphStopAgent) ----------
Digraph execution is complete
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell4">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell5" tabindex="0"><span></span>TaskResult(messages=[TextMessage(source='user', models_usage=None, metadata={}, content='Write a short paragraph about climate change.', type='TextMessage'), TextMessage(source='writer', models_usage=RequestUsage(prompt_tokens=28, completion_tokens=113), metadata={}, content='Climate change refers to long-term shifts in weather patterns and global temperatures, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These activities increase concentrations of greenhouse gases like carbon dioxide and methane in the atmosphere, leading to global warming. The impacts of climate change include more frequent and severe weather events, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this urgent issue requires international cooperation, significant shifts toward renewable energy sources, and sustainable practices to reduce our carbon footprint and protect the planet for future generations.', type='TextMessage'), TextMessage(source='editor1', models_usage=RequestUsage(prompt_tokens=144, completion_tokens=113), metadata={}, content='Climate change refers to long-term shifts in weather patterns and global temperatures, largely driven by human activities such as burning fossil fuels, deforestation, and industrial processes. These activities increase concentrations of greenhouse gases like carbon dioxide and methane in the atmosphere, leading to global warming. The impacts of climate change include more frequent and severe weather events, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this urgent issue requires international cooperation, significant shifts toward renewable energy sources, and sustainable practices to reduce our carbon footprint and protect the planet for future generations.', type='TextMessage'), TextMessage(source='editor2', models_usage=RequestUsage(prompt_tokens=263, completion_tokens=107), metadata={}, content='Climate change involves long-term alterations in weather patterns and global temperatures, primarily caused by human activities like burning fossil fuels, deforestation, and industrial processes. These actions elevate levels of greenhouse gases such as carbon dioxide and methane, resulting in global warming. Its consequences are widespread, including more frequent and intense storms, rising sea levels, melting glaciers, and disturbances to ecosystems and agriculture. Combating this crisis demands international collaboration, a swift transition to renewable energy, and sustainable practices to cut carbon emissions, ensuring a healthier planet for future generations.', type='TextMessage'), TextMessage(source='final_reviewer', models_usage=RequestUsage(prompt_tokens=383, completion_tokens=104), metadata={}, content='Climate change involves long-term alterations in weather patterns and global temperatures, primarily caused by human activities such as burning fossil fuels, deforestation, and industrial processes. These actions increase levels of greenhouse gases like carbon dioxide and methane, leading to global warming. Its consequences include more frequent and intense storms, rising sea levels, melting glaciers, and disruptions to ecosystems and agriculture. Addressing this crisis requires international collaboration, a swift transition to renewable energy, and sustainable practices to reduce carbon emissions, ensuring a healthier planet for future generations.', type='TextMessage'), StopMessage(source='DiGraphStopAgent', models_usage=None, metadata={}, content='Digraph execution is complete', type='StopMessage')], stop_reason='Stop message received')
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell5">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
</section>
<section id="message-filtering">
<h2>Message Filtering<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#message-filtering" title="Link to this heading">#</a></h2>
<section id="execution-graph-vs-message-graph">
<h3>Execution Graph vs. Message Graph<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#execution-graph-vs-message-graph" title="Link to this heading">#</a></h3>
<p>In <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.GraphFlow" title="autogen_agentchat.teams.GraphFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphFlow</span></code></a>, the <strong>execution graph</strong> is defined using
<a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html#autogen_agentchat.teams.DiGraph" title="autogen_agentchat.teams.DiGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a>, which controls the order in which agents execute.
However, the execution graph does not control what messages an agent receives from other agents.
By default, all messages are sent to all agents in the graph.</p>
<p><strong>Message filtering</strong> is a separate feature that allows you to filter the messages
received by each agent and limiting their model context to only the relevant information.
The set of message filters defines the <strong>message graph</strong> in the flow.</p>
<p>Specifying the message graph can help with:</p>
<ul class="simple">
<li><p>Reduce hallucinations</p></li>
<li><p>Control memory load</p></li>
<li><p>Focus agents only on relevant information</p></li>
</ul>
<p>You can use <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html#autogen_agentchat.agents.MessageFilterAgent" title="autogen_agentchat.agents.MessageFilterAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageFilterAgent</span></code></a> together with <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html#autogen_agentchat.agents.MessageFilterConfig" title="autogen_agentchat.agents.MessageFilterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageFilterConfig</span></code></a> and <a class="reference internal" href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html#autogen_agentchat.agents.PerSourceFilter" title="autogen_agentchat.agents.PerSourceFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerSourceFilter</span></code></a> to define these rules.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell6" tabindex="0"><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">AssistantAgent</span><span class="p">,</span> <span class="n">MessageFilterAgent</span><span class="p">,</span> <span class="n">MessageFilterConfig</span><span class="p">,</span> <span class="n">PerSourceFilter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.teams</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiGraphBuilder</span><span class="p">,</span> <span class="n">GraphFlow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.ui</span><span class="w"> </span><span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_ext.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>

<span class="c1"># Model client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>

<span class="c1"># Create agents</span>
<span class="n">researcher</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"researcher"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Summarize key facts about climate change."</span>
<span class="p">)</span>
<span class="n">analyst</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"analyst"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Review the summary and suggest improvements."</span><span class="p">)</span>
<span class="n">presenter</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"presenter"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Prepare a presentation slide based on the final summary."</span>
<span class="p">)</span>

<span class="c1"># Apply message filtering</span>
<span class="n">filtered_analyst</span> <span class="o">=</span> <span class="n">MessageFilterAgent</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">"analyst"</span><span class="p">,</span>
    <span class="n">wrapped_agent</span><span class="o">=</span><span class="n">analyst</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">MessageFilterConfig</span><span class="p">(</span><span class="n">per_source</span><span class="o">=</span><span class="p">[</span><span class="n">PerSourceFilter</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">"researcher"</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">"last"</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)]),</span>
<span class="p">)</span>

<span class="n">filtered_presenter</span> <span class="o">=</span> <span class="n">MessageFilterAgent</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">"presenter"</span><span class="p">,</span>
    <span class="n">wrapped_agent</span><span class="o">=</span><span class="n">presenter</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">MessageFilterConfig</span><span class="p">(</span><span class="n">per_source</span><span class="o">=</span><span class="p">[</span><span class="n">PerSourceFilter</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">"analyst"</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">"last"</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)]),</span>
<span class="p">)</span>

<span class="c1"># Build the flow</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">researcher</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">filtered_analyst</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">filtered_presenter</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">researcher</span><span class="p">,</span> <span class="n">filtered_analyst</span><span class="p">)</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">filtered_analyst</span><span class="p">,</span> <span class="n">filtered_presenter</span><span class="p">)</span>

<span class="c1"># Create the flow</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span>
    <span class="n">participants</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">get_participants</span><span class="p">(),</span>
    <span class="n">graph</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">(),</span>
<span class="p">)</span>

<span class="c1"># Run the flow</span>
<span class="k">await</span> <span class="n">Console</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">run_stream</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">"Summarize key facts about climate change."</span><span class="p">))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell6">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell7" tabindex="-1"><span></span>---------- TextMessage (user) ----------
Summarize key facts about climate change.
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell7">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="output stream highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell8" tabindex="0"><span></span>---------- TextMessage (researcher) ----------
Certainly! Here are some key facts about climate change:

1. **Global Warming**: Earth's average surface temperature has increased significantly over the past century, primarily due to human activities.
2. **Greenhouse Gas Emissions**: The main contributors are carbon dioxide (CO₂), methane (CH₄), and nitrous oxide (N₂O), resulting from burning fossil fuels, deforestation, and industrial processes.
3. **Impacts on Weather and Climate**: Climate change leads to more frequent and severe heatwaves, storms, droughts, and heavy rainfall.
4. **Rising Sea Levels**: Melting polar ice caps and glaciers, along with thermal expansion of seawater, are causing sea levels to rise.
5. **Effects on Ecosystems**: Altered habitats threaten plant and animal species, leading to biodiversity loss.
6. **Human Health and Societies**: Climate change contributes to health issues, food and water insecurity, and displacement of populations.
7. **Global Response**: International efforts like the Paris Agreement aim to limit temperature rise, promote renewable energy, and reduce emissions.
8. **Urgency**: Addressing climate change requires immediate, concerted actions to mitigate further damage and adapt to changes.

Let me know if you want more detailed information on any of these points!
---------- TextMessage (analyst) ----------
Your summary effectively covers the fundamental aspects of climate change and presents them clearly. Here are some suggestions to improve clarity, depth, and engagement:

1. Enhance structure with subheadings: Organize points into thematic sections (e.g., Causes, Effects, Responses) for easier navigation.
2. Add recent context or data: Incorporate the latest statistics or notable recent events to emphasize urgency.
3. Emphasize solutions: Briefly mention specific mitigation and adaptation strategies beyond international agreements.
4. Use more precise language: For example, specify the amount of temperature increase globally (~1.2°C since pre-industrial times).
5. Incorporate the importance of individual actions: Highlight how personal choices contribute to climate efforts.
6. Mention climate feedback loops: Briefly note how certain effects (like melting ice) can accelerate warming.

**Improved Version:**

---

**Overview of Climate Change**

**Causes:**
- Human activities, especially burning fossil fuels, deforestation, and industrial processes, have led to increased concentrations of greenhouse gases such as carbon dioxide (CO₂), methane (CH₄), and nitrous oxide (N₂O).
- Since the late 19th century, Earth's average surface temperature has risen by approximately 1.2°C, with the past decade being the warmest on record.

**Impacts:**
- The changing climate causes more frequent and intense heatwaves, storms, droughts, and heavy rainfall events.
- Melting polar ice caps and glaciers, along with thermal expansion, are raising sea levels, threatening coastal communities.
- Ecosystems are shifting, leading to habitat loss and risking biodiversity, with some species facing extinction.
- Human health and societies are affected through increased heat-related illnesses, food and water insecurity, and displacement due to extreme weather events.

**Global Response and Solutions:**
- International agreements like the Paris Agreement aim to limit global temperature rise well below 2°C.
- Strategies include transitioning to renewable energy sources, increasing energy efficiency, reforestation, and sustainable land use.
- Community and individual actions—reducing carbon footprints, supporting sustainable policies, and raising awareness—are essential components.

**Urgency and Call to Action:**
- Immediate, coordinated efforts are critical to mitigate irreversible damage and adapt to ongoing changes.
- Every sector, from government to individual, has a role to play in creating a sustainable future.

---

Let me know if you'd like a more detailed explanation of any section or additional statistical data!
---------- TextMessage (presenter) ----------
**Slide Title:**  
**Climate Change: Causes, Impacts &amp; Solutions**

**Causes:**  
- Emissions from burning fossil fuels, deforestation, industrial activities  
- Greenhouse gases (CO₂, CH₄, N₂O) have increased significantly  
- Global temperature has risen by ~1.2°C since pre-industrial times  

**Impacts:**  
- More frequent heatwaves, storms, droughts, and heavy rainfall  
- Melting ice caps and rising sea levels threaten coastal areas  
- Habitat loss and decreased biodiversity  
- Health risks and societal disruptions  

**Responses &amp; Solutions:**  
- International efforts like the Paris Agreement aim to limit warming  
- Transitioning to renewable energy, energy efficiency, reforestation  
- Community and individual actions: reducing carbon footprints and raising awareness  

**Urgency:**  
- Immediate, coordinated action is essential to prevent irreversible damage  
- Everyone has a role in building a sustainable future
---------- StopMessage (DiGraphStopAgent) ----------
Digraph execution is complete
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell9" tabindex="0"><span></span>TaskResult(messages=[TextMessage(source='user', models_usage=None, metadata={}, content='Summarize key facts about climate change.', type='TextMessage'), TextMessage(source='researcher', models_usage=RequestUsage(prompt_tokens=30, completion_tokens=267), metadata={}, content="Certainly! Here are some key facts about climate change:\n\n1. **Global Warming**: Earth's average surface temperature has increased significantly over the past century, primarily due to human activities.\n2. **Greenhouse Gas Emissions**: The main contributors are carbon dioxide (CO₂), methane (CH₄), and nitrous oxide (N₂O), resulting from burning fossil fuels, deforestation, and industrial processes.\n3. **Impacts on Weather and Climate**: Climate change leads to more frequent and severe heatwaves, storms, droughts, and heavy rainfall.\n4. **Rising Sea Levels**: Melting polar ice caps and glaciers, along with thermal expansion of seawater, are causing sea levels to rise.\n5. **Effects on Ecosystems**: Altered habitats threaten plant and animal species, leading to biodiversity loss.\n6. **Human Health and Societies**: Climate change contributes to health issues, food and water insecurity, and displacement of populations.\n7. **Global Response**: International efforts like the Paris Agreement aim to limit temperature rise, promote renewable energy, and reduce emissions.\n8. **Urgency**: Addressing climate change requires immediate, concerted actions to mitigate further damage and adapt to changes.\n\nLet me know if you want more detailed information on any of these points!", type='TextMessage'), TextMessage(source='analyst', models_usage=RequestUsage(prompt_tokens=287, completion_tokens=498), metadata={}, content="Your summary effectively covers the fundamental aspects of climate change and presents them clearly. Here are some suggestions to improve clarity, depth, and engagement:\n\n1. Enhance structure with subheadings: Organize points into thematic sections (e.g., Causes, Effects, Responses) for easier navigation.\n2. Add recent context or data: Incorporate the latest statistics or notable recent events to emphasize urgency.\n3. Emphasize solutions: Briefly mention specific mitigation and adaptation strategies beyond international agreements.\n4. Use more precise language: For example, specify the amount of temperature increase globally (~1.2°C since pre-industrial times).\n5. Incorporate the importance of individual actions: Highlight how personal choices contribute to climate efforts.\n6. Mention climate feedback loops: Briefly note how certain effects (like melting ice) can accelerate warming.\n\n**Improved Version:**\n\n---\n\n**Overview of Climate Change**\n\n**Causes:**\n- Human activities, especially burning fossil fuels, deforestation, and industrial processes, have led to increased concentrations of greenhouse gases such as carbon dioxide (CO₂), methane (CH₄), and nitrous oxide (N₂O).\n- Since the late 19th century, Earth's average surface temperature has risen by approximately 1.2°C, with the past decade being the warmest on record.\n\n**Impacts:**\n- The changing climate causes more frequent and intense heatwaves, storms, droughts, and heavy rainfall events.\n- Melting polar ice caps and glaciers, along with thermal expansion, are raising sea levels, threatening coastal communities.\n- Ecosystems are shifting, leading to habitat loss and risking biodiversity, with some species facing extinction.\n- Human health and societies are affected through increased heat-related illnesses, food and water insecurity, and displacement due to extreme weather events.\n\n**Global Response and Solutions:**\n- International agreements like the Paris Agreement aim to limit global temperature rise well below 2°C.\n- Strategies include transitioning to renewable energy sources, increasing energy efficiency, reforestation, and sustainable land use.\n- Community and individual actions—reducing carbon footprints, supporting sustainable policies, and raising awareness—are essential components.\n\n**Urgency and Call to Action:**\n- Immediate, coordinated efforts are critical to mitigate irreversible damage and adapt to ongoing changes.\n- Every sector, from government to individual, has a role to play in creating a sustainable future.\n\n---\n\nLet me know if you'd like a more detailed explanation of any section or additional statistical data!", type='TextMessage'), TextMessage(source='presenter', models_usage=RequestUsage(prompt_tokens=521, completion_tokens=192), metadata={}, content='**Slide Title:**  \n**Climate Change: Causes, Impacts &amp; Solutions**\n\n**Causes:**  \n- Emissions from burning fossil fuels, deforestation, industrial activities  \n- Greenhouse gases (CO₂, CH₄, N₂O) have increased significantly  \n- Global temperature has risen by ~1.2°C since pre-industrial times  \n\n**Impacts:**  \n- More frequent heatwaves, storms, droughts, and heavy rainfall  \n- Melting ice caps and rising sea levels threaten coastal areas  \n- Habitat loss and decreased biodiversity  \n- Health risks and societal disruptions  \n\n**Responses &amp; Solutions:**  \n- International efforts like the Paris Agreement aim to limit warming  \n- Transitioning to renewable energy, energy efficiency, reforestation  \n- Community and individual actions: reducing carbon footprints and raising awareness  \n\n**Urgency:**  \n- Immediate, coordinated action is essential to prevent irreversible damage  \n- Everyone has a role in building a sustainable future', type='TextMessage'), StopMessage(source='DiGraphStopAgent', models_usage=None, metadata={}, content='Digraph execution is complete', type='StopMessage')], stop_reason='Stop message received')
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell9">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
</section>
<section id="advanced-example-conditional-loop-filtered-summary">
<h2>🔁 Advanced Example: Conditional Loop + Filtered Summary<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#advanced-example-conditional-loop-filtered-summary" title="Link to this heading">#</a></h2>
<p>This example demonstrates:</p>
<ul class="simple">
<li><p>A loop between generator and reviewer (which exits when reviewer says “APPROVE”)</p></li>
<li><p>A summarizer agent that only sees the first user input and the last reviewer message</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell10" tabindex="0"><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">AssistantAgent</span><span class="p">,</span> <span class="n">MessageFilterAgent</span><span class="p">,</span> <span class="n">MessageFilterConfig</span><span class="p">,</span> <span class="n">PerSourceFilter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.teams</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">DiGraphBuilder</span><span class="p">,</span>
    <span class="n">GraphFlow</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.conditions</span><span class="w"> </span><span class="kn">import</span> <span class="n">MaxMessageTermination</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.ui</span><span class="w"> </span><span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_ext.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>

<span class="n">model_client</span> <span class="o">=</span> <span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4o-mini"</span><span class="p">)</span>

<span class="c1"># Agents</span>
<span class="n">generator</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"generator"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">model_client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Generate a list of creative ideas."</span><span class="p">)</span>
<span class="n">reviewer</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"reviewer"</span><span class="p">,</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">model_client</span><span class="p">,</span>
    <span class="n">system_message</span><span class="o">=</span><span class="s2">"Review ideas and provide feedbacks, or just 'APPROVE' for final approval."</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">summarizer_core</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"summary"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">model_client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Summarize the user request and the final feedback."</span>
<span class="p">)</span>

<span class="c1"># Filtered summarizer</span>
<span class="n">filtered_summarizer</span> <span class="o">=</span> <span class="n">MessageFilterAgent</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">"summary"</span><span class="p">,</span>
    <span class="n">wrapped_agent</span><span class="o">=</span><span class="n">summarizer_core</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">MessageFilterConfig</span><span class="p">(</span>
        <span class="n">per_source</span><span class="o">=</span><span class="p">[</span>
            <span class="n">PerSourceFilter</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">"user"</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">"first"</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">PerSourceFilter</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">"reviewer"</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">"last"</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Build graph with conditional loop</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">reviewer</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">filtered_summarizer</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">reviewer</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">reviewer</span><span class="p">,</span> <span class="n">filtered_summarizer</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="s2">"APPROVE"</span> <span class="ow">in</span> <span class="n">msg</span><span class="o">.</span><span class="n">to_model_text</span><span class="p">())</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">reviewer</span><span class="p">,</span> <span class="n">generator</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="s2">"APPROVE"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">msg</span><span class="o">.</span><span class="n">to_model_text</span><span class="p">())</span>
<span class="n">builder</span><span class="o">.</span><span class="n">set_entry_point</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>  <span class="c1"># Set entry point to generator. Required if there are no source nodes.</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

<span class="n">termination_condition</span> <span class="o">=</span> <span class="n">MaxMessageTermination</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Create the flow</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span>
    <span class="n">participants</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">get_participants</span><span class="p">(),</span>
    <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span>
    <span class="n">termination_condition</span><span class="o">=</span><span class="n">termination_condition</span>
<span class="p">)</span>

<span class="c1"># Run the flow and pretty print the output in the console</span>
<span class="k">await</span> <span class="n">Console</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">run_stream</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">"Brainstorm ways to reduce plastic waste."</span><span class="p">))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell10">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell11" tabindex="0"><span></span>---------- TextMessage (user) ----------
Brainstorm ways to reduce plastic waste.
---------- TextMessage (generator) ----------
Here are some creative ideas to help reduce plastic waste:

1. **Refill Stations**: Create refill stations for common household liquids (like soaps, shampoos, and detergents) where people can bring their own containers to fill up.

2. **DIY Kits**: Offer DIY kits for making eco-friendly products, such as beeswax wraps, reusable bags, or natural cleaning solutions.

3. **Community Swap Events**: Organize swap events where people can bring unwanted items, including clothing and household products, to exchange instead of purchasing new items.

4. **Plastic-Free Challenge**: Launch a community-wide challenge encouraging residents to go plastic-free for a month, sharing tips and experiences on social media.

5. **Incentivize Businesses**: Create incentives for local businesses that implement sustainable practices, like providing discounts to customers who bring their own containers or bags.

6. **Educational Campaigns**: Partner with schools to educate children about the impact of plastic waste and encourage them to take home messages to their families.

7. **Plastic-Free Shopping Zones**: Designate certain areas in town as plastic-free zones where businesses agree to eliminate single-use plastics.

8. **Upcycling Workshops**: Host workshops teaching people how to upcycle plastic waste into art, furniture, or home decor.

9. **Composting Competition**: Encourage households to compost food waste and offer a competition for the best composting garden to foster eco-awareness.

10. **Zero-Waste Stores**: Support or start zero-waste stores that sell bulk goods, allowing customers to shop with their own containers.

11. **Mobile Recycling Units**: Implement mobile recycling units that visit neighborhoods to educate residents on recycling properly and collect recyclables.

12. **Plastic Offset Programs**: Create programs that allow individuals and companies to offset their plastic usage through donations to initiatives that remove plastic from oceans.

13. **Collaboration with Influencers**: Partner with social media influencers to spread the message about reducing plastic waste and promote sustainable alternatives.

14. **Sustainable Product Market**: Organize a market dedicated exclusively to sustainable products and services, showcasing local vendors who prioritize eco-friendly practices.

15. **Plastic Waste Art Installations**: Collaborate with artists to create public installations made from recycled plastic, raising awareness of the plastic problem in a visually impactful way.

16. **Interactive Apps**: Develop apps that track plastic usage and provide personalized tips for reducing plastic consumption based on user habits.

17. **Corporate Partnerships**: Work with businesses to develop corporate responsibility programs focused on reducing plastic use in their operations and packaging.

18. **Legislation Advocacy**: Promote local policies that restrict single-use plastics or support more effective recycling programs.

19. **Public Transportation Awareness**: Encourage public transportation usage by providing eco-friendly incentives for those who walk, bike, or use buses instead of cars.

20. **Create a Local Plastic Waste Repository**: Start a community hub where individuals and artists can drop off plastic waste for reuse in projects or art pieces.

By implementing these ideas, communities can take significant steps toward reducing plastic waste and fostering a sustainable future.
---------- TextMessage (reviewer) ----------
These ideas present a comprehensive and practical approach to reducing plastic waste within communities. Here’s some feedback and considerations for each suggestion:

1. **Refill Stations**: Great idea; consider partnering with local health and wellness shops for broader adoption.
   
2. **DIY Kits**: Ensure kits include clear instructions and safety guidance to promote user-friendliness.

3. **Community Swap Events**: Promote these as regular events to build a sense of community and reinforce sustainable habits.

4. **Plastic-Free Challenge**: Consider creating a dedicated hashtag to track participants’ journeys and foster engagement online.

5. **Incentivize Businesses**: Work on a simple certification system for sustainable businesses to encourage participation and recognition.

6. **Educational Campaigns**: Tailor content to different age groups to maximize impact across the community.

7. **Plastic-Free Shopping Zones**: Consider involving local government for support and promotion, which can increase visibility and compliance.

8. **Upcycling Workshops**: Source materials locally for workshops to decrease transportation emissions and support local businesses.

9. **Composting Competition**: Collaborate with gardening clubs for expert insights and to broaden participation in community gardening.

10. **Zero-Waste Stores**: Explore online sales options to enhance accessibility while retaining the focus on zero-waste practices.

11. **Mobile Recycling Units**: Train volunteers for effective community engagement and education during visits.

12. **Plastic Offset Programs**: Emphasize transparency in how donations are used to build trust within the community.

13. **Collaboration with Influencers**: Ensure influencers have a genuine commitment to sustainability to ensure credible messaging.

14. **Sustainable Product Market**: Regularly invite new vendors to keep the market fresh and encourage innovation in sustainable products.

15. **Plastic Waste Art Installations**: Consider educational plaques accompanying installations that inform viewers about the issues of plastic waste.

16. **Interactive Apps**: Include gamification elements to encourage increased user engagement and sharing among friends.

17. **Corporate Partnerships**: Develop case studies or success stories to showcase the benefits of reduced plastic use for businesses.

18. **Legislation Advocacy**: Mobilize community members to become advocates themselves, creating a grass-roots effort for policy change.

19. **Public Transportation Awareness**: Explore partnerships with public transit systems for eco-friendly promotions.

20. **Create a Local Plastic Waste Repository**: Establish partnerships with local craft schools or organizations to enhance creativity and use of the repository.

Overall, these ideas have high potential for impactful implementation. Emphasizing community engagement, education, and ongoing support will help ensure their success. **APPROVE**.
---------- TextMessage (summary) ----------
The user requested brainstorming ideas to reduce plastic waste, looking for practical and impactful solutions. The reviewer provided detailed feedback on each suggested idea, indicating strengths and considerations for improvement, such as involving local businesses, enhancing community engagement, and promoting educational initiatives. The final feedback indicates that the suggestions have great potential and emphasizes the importance of community involvement and education for successful implementation, culminating in an overall approval of the ideas presented.
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell11">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate" tabindex="-1"><div class="highlight"><pre id="codecell12" tabindex="0"><span></span>TaskResult(messages=[TextMessage(id='eca90b4f-a8cc-4f06-9b42-d8387caf338e', source='user', models_usage=None, metadata={}, created_at=datetime.datetime(2025, 7, 15, 1, 48, 51, 648989, tzinfo=datetime.timezone.utc), content='Brainstorm ways to reduce plastic waste.', type='TextMessage'), TextMessage(id='29767cbd-ae8d-4dfb-be57-7f982aaddc4b', source='generator', models_usage=RequestUsage(prompt_tokens=27, completion_tokens=627), metadata={}, created_at=datetime.datetime(2025, 7, 15, 1, 49, 6, 788238, tzinfo=datetime.timezone.utc), content='Here are some creative ideas to help reduce plastic waste:\n\n1. **Refill Stations**: Create refill stations for common household liquids (like soaps, shampoos, and detergents) where people can bring their own containers to fill up.\n\n2. **DIY Kits**: Offer DIY kits for making eco-friendly products, such as beeswax wraps, reusable bags, or natural cleaning solutions.\n\n3. **Community Swap Events**: Organize swap events where people can bring unwanted items, including clothing and household products, to exchange instead of purchasing new items.\n\n4. **Plastic-Free Challenge**: Launch a community-wide challenge encouraging residents to go plastic-free for a month, sharing tips and experiences on social media.\n\n5. **Incentivize Businesses**: Create incentives for local businesses that implement sustainable practices, like providing discounts to customers who bring their own containers or bags.\n\n6. **Educational Campaigns**: Partner with schools to educate children about the impact of plastic waste and encourage them to take home messages to their families.\n\n7. **Plastic-Free Shopping Zones**: Designate certain areas in town as plastic-free zones where businesses agree to eliminate single-use plastics.\n\n8. **Upcycling Workshops**: Host workshops teaching people how to upcycle plastic waste into art, furniture, or home decor.\n\n9. **Composting Competition**: Encourage households to compost food waste and offer a competition for the best composting garden to foster eco-awareness.\n\n10. **Zero-Waste Stores**: Support or start zero-waste stores that sell bulk goods, allowing customers to shop with their own containers.\n\n11. **Mobile Recycling Units**: Implement mobile recycling units that visit neighborhoods to educate residents on recycling properly and collect recyclables.\n\n12. **Plastic Offset Programs**: Create programs that allow individuals and companies to offset their plastic usage through donations to initiatives that remove plastic from oceans.\n\n13. **Collaboration with Influencers**: Partner with social media influencers to spread the message about reducing plastic waste and promote sustainable alternatives.\n\n14. **Sustainable Product Market**: Organize a market dedicated exclusively to sustainable products and services, showcasing local vendors who prioritize eco-friendly practices.\n\n15. **Plastic Waste Art Installations**: Collaborate with artists to create public installations made from recycled plastic, raising awareness of the plastic problem in a visually impactful way.\n\n16. **Interactive Apps**: Develop apps that track plastic usage and provide personalized tips for reducing plastic consumption based on user habits.\n\n17. **Corporate Partnerships**: Work with businesses to develop corporate responsibility programs focused on reducing plastic use in their operations and packaging.\n\n18. **Legislation Advocacy**: Promote local policies that restrict single-use plastics or support more effective recycling programs.\n\n19. **Public Transportation Awareness**: Encourage public transportation usage by providing eco-friendly incentives for those who walk, bike, or use buses instead of cars.\n\n20. **Create a Local Plastic Waste Repository**: Start a community hub where individuals and artists can drop off plastic waste for reuse in projects or art pieces.\n\nBy implementing these ideas, communities can take significant steps toward reducing plastic waste and fostering a sustainable future.', type='TextMessage'), TextMessage(id='54e02028-0239-4809-8163-af60745e6b9d', source='reviewer', models_usage=RequestUsage(prompt_tokens=671, completion_tokens=532), metadata={}, created_at=datetime.datetime(2025, 7, 15, 1, 49, 17, 327641, tzinfo=datetime.timezone.utc), content='These ideas present a comprehensive and practical approach to reducing plastic waste within communities. Here’s some feedback and considerations for each suggestion:\n\n1. **Refill Stations**: Great idea; consider partnering with local health and wellness shops for broader adoption.\n   \n2. **DIY Kits**: Ensure kits include clear instructions and safety guidance to promote user-friendliness.\n\n3. **Community Swap Events**: Promote these as regular events to build a sense of community and reinforce sustainable habits.\n\n4. **Plastic-Free Challenge**: Consider creating a dedicated hashtag to track participants’ journeys and foster engagement online.\n\n5. **Incentivize Businesses**: Work on a simple certification system for sustainable businesses to encourage participation and recognition.\n\n6. **Educational Campaigns**: Tailor content to different age groups to maximize impact across the community.\n\n7. **Plastic-Free Shopping Zones**: Consider involving local government for support and promotion, which can increase visibility and compliance.\n\n8. **Upcycling Workshops**: Source materials locally for workshops to decrease transportation emissions and support local businesses.\n\n9. **Composting Competition**: Collaborate with gardening clubs for expert insights and to broaden participation in community gardening.\n\n10. **Zero-Waste Stores**: Explore online sales options to enhance accessibility while retaining the focus on zero-waste practices.\n\n11. **Mobile Recycling Units**: Train volunteers for effective community engagement and education during visits.\n\n12. **Plastic Offset Programs**: Emphasize transparency in how donations are used to build trust within the community.\n\n13. **Collaboration with Influencers**: Ensure influencers have a genuine commitment to sustainability to ensure credible messaging.\n\n14. **Sustainable Product Market**: Regularly invite new vendors to keep the market fresh and encourage innovation in sustainable products.\n\n15. **Plastic Waste Art Installations**: Consider educational plaques accompanying installations that inform viewers about the issues of plastic waste.\n\n16. **Interactive Apps**: Include gamification elements to encourage increased user engagement and sharing among friends.\n\n17. **Corporate Partnerships**: Develop case studies or success stories to showcase the benefits of reduced plastic use for businesses.\n\n18. **Legislation Advocacy**: Mobilize community members to become advocates themselves, creating a grass-roots effort for policy change.\n\n19. **Public Transportation Awareness**: Explore partnerships with public transit systems for eco-friendly promotions.\n\n20. **Create a Local Plastic Waste Repository**: Establish partnerships with local craft schools or organizations to enhance creativity and use of the repository.\n\nOverall, these ideas have high potential for impactful implementation. Emphasizing community engagement, education, and ongoing support will help ensure their success. **APPROVE**.', type='TextMessage'), TextMessage(id='55409dc3-9766-4071-ab85-0b3125cb59c7', source='summary', models_usage=RequestUsage(prompt_tokens=570, completion_tokens=82), metadata={}, created_at=datetime.datetime(2025, 7, 15, 1, 49, 19, 442276, tzinfo=datetime.timezone.utc), content='The user requested brainstorming ideas to reduce plastic waste, looking for practical and impactful solutions. The reviewer provided detailed feedback on each suggested idea, indicating strengths and considerations for improvement, such as involving local businesses, enhancing community engagement, and promoting educational initiatives. The final feedback indicates that the suggestions have great potential and emphasizes the importance of community involvement and education for successful implementation, culminating in an overall approval of the ideas presented.', type='TextMessage')], stop_reason='Digraph execution is complete')
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell12">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
<section id="advanced-example-cycles-with-activation-group-examples">
<h2>🔁 Advanced Example: Cycles With Activation Group Examples<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#advanced-example-cycles-with-activation-group-examples" title="Link to this heading">#</a></h2>
<p>The following examples demonstrate how to use <code class="docutils literal notranslate"><span class="pre">activation_group</span></code> and <code class="docutils literal notranslate"><span class="pre">activation_condition</span></code> to handle complex dependency patterns in cyclic graphs, especially when multiple paths lead to the same target node.</p>
<section id="example-1-loop-with-multiple-paths-all-activation-abcb">
<h3>Example 1: Loop with Multiple Paths - “All” Activation (A→B→C→B)<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-1-loop-with-multiple-paths-all-activation-abcb" title="Link to this heading">#</a></h3>
<p>In this scenario, we have A → B → C → B, where B has two incoming edges (from A and from C). By default, B requires <strong>all</strong> its dependencies to be satisfied before executing.</p>
<p>This example shows a review loop where both the initial input (A) and the feedback (C) must be processed before B can execute again.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell13" tabindex="0"><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">AssistantAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.teams</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiGraphBuilder</span><span class="p">,</span> <span class="n">GraphFlow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.conditions</span><span class="w"> </span><span class="kn">import</span> <span class="n">MaxMessageTermination</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_agentchat.ui</span><span class="w"> </span><span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autogen_ext.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>

<span class="c1"># Model client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4o-mini"</span><span class="p">)</span>

<span class="c1"># Create agents for A→B→C→B→E scenario</span>
<span class="n">agent_a</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Start the process and provide initial input."</span><span class="p">)</span>
<span class="n">agent_b</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"B"</span><span class="p">,</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="n">system_message</span><span class="o">=</span><span class="s2">"Process input from A or feedback from C. Say 'CONTINUE' if it's from A or 'STOP' if it's from C."</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">agent_c</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Review B's output and provide feedback."</span><span class="p">)</span>
<span class="n">agent_e</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"E"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Finalize the process."</span><span class="p">)</span>

<span class="c1"># Build the graph with activation groups</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_a</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_b</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_c</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_e</span><span class="p">)</span>

<span class="c1"># A → B (initial path)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_a</span><span class="p">,</span> <span class="n">agent_b</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"initial"</span><span class="p">)</span>

<span class="c1"># B → C</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b</span><span class="p">,</span> <span class="n">agent_c</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"CONTINUE"</span><span class="p">)</span>

<span class="c1"># C → B (loop back - different activation group)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_c</span><span class="p">,</span> <span class="n">agent_b</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"feedback"</span><span class="p">)</span>

<span class="c1"># B → E (exit condition)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b</span><span class="p">,</span> <span class="n">agent_e</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"STOP"</span><span class="p">)</span>

<span class="n">termination_condition</span> <span class="o">=</span> <span class="n">MaxMessageTermination</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Build and create flow</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span><span class="n">participants</span><span class="o">=</span><span class="p">[</span><span class="n">agent_a</span><span class="p">,</span> <span class="n">agent_b</span><span class="p">,</span> <span class="n">agent_c</span><span class="p">,</span> <span class="n">agent_e</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">termination_condition</span><span class="o">=</span><span class="n">termination_condition</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Example 1: A→B→C→B with 'All' Activation ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"B will exit when it receives a message from C"</span><span class="p">)</span>
<span class="c1"># await Console(flow.run_stream(task="Start a review process for a document."))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell13">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
<section id="example-2-loop-with-multiple-paths-any-activation-ab-c1-c2-b">
<h3>Example 2: Loop with Multiple Paths - “Any” Activation (A→B→(C1,C2)→B)<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-2-loop-with-multiple-paths-any-activation-ab-c1-c2-b" title="Link to this heading">#</a></h3>
<p>In this more complex scenario, we have A → B → (C1, C2) → B, where:</p>
<ul class="simple">
<li><p>B fans out to both C1 and C2 in parallel</p></li>
<li><p>Both C1 and C2 feed back to B</p></li>
<li><p>B uses “any” activation, meaning it executes as soon as <strong>either</strong> C1 or C2 completes</p></li>
</ul>
<p>This is useful for scenarios where you want the fastest response to trigger the next step.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell14" tabindex="0"><span></span><span class="c1"># Create agents for A→B→(C1,C2)→B scenario</span>
<span class="n">agent_a2</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Initiate a task that needs parallel processing."</span><span class="p">)</span>
<span class="n">agent_b2</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="s2">"B"</span><span class="p">,</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="n">system_message</span><span class="o">=</span><span class="s2">"Coordinate parallel tasks. Say 'PROCESS' to start parallel work or 'DONE' to finish."</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">agent_c1</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"C1"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Handle task type 1. Say 'C1_COMPLETE' when done."</span><span class="p">)</span>
<span class="n">agent_c2</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"C2"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Handle task type 2. Say 'C2_COMPLETE' when done."</span><span class="p">)</span>
<span class="n">agent_e</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"E"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Finalize the process."</span><span class="p">)</span>

<span class="c1"># Build the graph with "any" activation</span>
<span class="n">builder2</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_a2</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_b2</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_c1</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_c2</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_e</span><span class="p">)</span>

<span class="c1"># A → B (initial)</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_a2</span><span class="p">,</span> <span class="n">agent_b2</span><span class="p">)</span>

<span class="c1"># B → C1 and B → C2 (parallel fan-out)</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b2</span><span class="p">,</span> <span class="n">agent_c1</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"PROCESS"</span><span class="p">)</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b2</span><span class="p">,</span> <span class="n">agent_c2</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"PROCESS"</span><span class="p">)</span>

<span class="c1"># B → E (exit condition)</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b2</span><span class="p">,</span> <span class="n">agent_e</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="s2">"DONE"</span> <span class="ow">in</span> <span class="n">msg</span><span class="o">.</span><span class="n">to_model_text</span><span class="p">())</span>

<span class="c1"># C1 → B and C2 → B (both in same activation group with "any" condition)</span>
<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
    <span class="n">agent_c1</span><span class="p">,</span> <span class="n">agent_b2</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"loop_back_group"</span><span class="p">,</span> <span class="n">activation_condition</span><span class="o">=</span><span class="s2">"any"</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"C1_COMPLETE"</span>
<span class="p">)</span>

<span class="n">builder2</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
    <span class="n">agent_c2</span><span class="p">,</span> <span class="n">agent_b2</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"loop_back_group"</span><span class="p">,</span> <span class="n">activation_condition</span><span class="o">=</span><span class="s2">"any"</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">"C2_COMPLETE"</span>
<span class="p">)</span>

<span class="c1"># Build and create flow</span>
<span class="n">graph2</span> <span class="o">=</span> <span class="n">builder2</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
<span class="n">flow2</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span><span class="n">participants</span><span class="o">=</span><span class="p">[</span><span class="n">agent_a2</span><span class="p">,</span> <span class="n">agent_b2</span><span class="p">,</span> <span class="n">agent_c1</span><span class="p">,</span> <span class="n">agent_c2</span><span class="p">,</span> <span class="n">agent_e</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Example 2: A→B→(C1,C2)→B with 'Any' Activation ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"B will execute as soon as EITHER C1 OR C2 completes (whichever finishes first)"</span><span class="p">)</span>
<span class="c1"># await Console(flow2.run_stream(task="Start a parallel processing task."))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell14">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
<section id="example-3-mixed-activation-groups">
<h3>Example 3: Mixed Activation Groups<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-3-mixed-activation-groups" title="Link to this heading">#</a></h3>
<p>This example shows how different activation groups can coexist in the same graph. We have a scenario where:</p>
<ul class="simple">
<li><p>Node D receives inputs from multiple sources with different activation requirements</p></li>
<li><p>Some dependencies use “all” activation (must wait for all inputs)</p></li>
<li><p>Other dependencies use “any” activation (proceed on first input)</p></li>
</ul>
<p>This pattern is useful for complex workflows where different types of dependencies have different urgency levels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre id="codecell15" tabindex="0"><span></span><span class="c1"># Create agents for mixed activation scenario</span>
<span class="n">agent_a3</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Provide critical input that must be processed."</span><span class="p">)</span>
<span class="n">agent_b3</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Provide secondary critical input."</span><span class="p">)</span>
<span class="n">agent_c3</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"C"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Provide optional quick input."</span><span class="p">)</span>
<span class="n">agent_d3</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span><span class="s2">"D"</span><span class="p">,</span> <span class="n">model_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">system_message</span><span class="o">=</span><span class="s2">"Process inputs based on different priority levels."</span><span class="p">)</span>

<span class="c1"># Build graph with mixed activation groups</span>
<span class="n">builder3</span> <span class="o">=</span> <span class="n">DiGraphBuilder</span><span class="p">()</span>
<span class="n">builder3</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_a3</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_b3</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_c3</span><span class="p">)</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">agent_d3</span><span class="p">)</span>

<span class="c1"># Critical inputs that must ALL be present (activation_group="critical", activation_condition="all")</span>
<span class="n">builder3</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_a3</span><span class="p">,</span> <span class="n">agent_d3</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"critical"</span><span class="p">,</span> <span class="n">activation_condition</span><span class="o">=</span><span class="s2">"all"</span><span class="p">)</span>
<span class="n">builder3</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_b3</span><span class="p">,</span> <span class="n">agent_d3</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"critical"</span><span class="p">,</span> <span class="n">activation_condition</span><span class="o">=</span><span class="s2">"all"</span><span class="p">)</span>

<span class="c1"># Optional input that can trigger execution on its own (activation_group="optional", activation_condition="any")</span>
<span class="n">builder3</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent_c3</span><span class="p">,</span> <span class="n">agent_d3</span><span class="p">,</span> <span class="n">activation_group</span><span class="o">=</span><span class="s2">"optional"</span><span class="p">,</span> <span class="n">activation_condition</span><span class="o">=</span><span class="s2">"any"</span><span class="p">)</span>

<span class="c1"># Build and create flow</span>
<span class="n">graph3</span> <span class="o">=</span> <span class="n">builder3</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
<span class="n">flow3</span> <span class="o">=</span> <span class="n">GraphFlow</span><span class="p">(</span><span class="n">participants</span><span class="o">=</span><span class="p">[</span><span class="n">agent_a3</span><span class="p">,</span> <span class="n">agent_b3</span><span class="p">,</span> <span class="n">agent_c3</span><span class="p">,</span> <span class="n">agent_d3</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Example 3: Mixed Activation Groups ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"D will execute when:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"- BOTH A AND B complete (critical group with 'all' activation), OR"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"- C completes (optional group with 'any' activation)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"This allows for both required dependencies and fast-path triggers."</span><span class="p">)</span>
<span class="c1"># await Console(flow3.run_stream(task="Process inputs with mixed priority levels."))</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell15">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</section>
<section id="key-takeaways-for-activation-groups">
<h3>Key Takeaways for Activation Groups<a class="headerlink" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#key-takeaways-for-activation-groups" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">activation_group</span></code></strong>: Groups edges that point to the same target node, allowing you to define different dependency patterns.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">activation_condition</span></code></strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">"all"</span></code> (default): Target node waits for ALL edges in the group to be satisfied</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"any"</span></code>: Target node executes as soon as ANY edge in the group is satisfied</p></li>
</ul>
</li>
<li><p><strong>Use Cases</strong>:</p>
<ul class="simple">
<li><p><strong>Cycles with multiple entry points</strong>: Different activation groups prevent conflicts</p></li>
<li><p><strong>Priority-based execution</strong>: Mix “all” and “any” conditions for different urgency levels</p></li>
<li><p><strong>Parallel processing with early termination</strong>: Use “any” to proceed with the fastest result</p></li>
</ul>
</li>
<li><p><strong>Best Practices</strong>:</p>
<ul class="simple">
<li><p>Use descriptive group names (<code class="docutils literal notranslate"><span class="pre">"critical"</span></code>, <code class="docutils literal notranslate"><span class="pre">"optional"</span></code>, <code class="docutils literal notranslate"><span class="pre">"feedback"</span></code>, etc.)</p></li>
<li><p>Keep activation conditions consistent within the same group</p></li>
<li><p>Test your graph logic with different execution paths</p></li>
</ul>
</li>
</ol>
<p>These patterns enable sophisticated workflow control while maintaining clear, understandable execution semantics.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/magentic-one.html" title="previous page">
      <svg class="svg-inline--fa fa-angle-left" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" data-fa-i2svg=""><path fill="currentColor" d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg><!-- <i class="fa-solid fa-angle-left"></i> Font Awesome fontawesome.com -->
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Magentic-One</p>
      </div>
    </a>
    <a class="right-next" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/memory.html" title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Memory and RAG</p>
      </div>
      <svg class="svg-inline--fa fa-angle-right" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" data-fa-i2svg=""><path fill="currentColor" d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><!-- <i class="fa-solid fa-angle-right"></i> Font Awesome fontawesome.com -->
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div id="pst-page-navigation-heading-2" class="page-toc tocsection onthispage">
    <svg class="svg-inline--fa fa-list" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="list" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"></path></svg><!-- <i class="fa-solid fa-list"></i> Font Awesome fontawesome.com --> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry active" aria-current="page"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#creating-and-running-a-flow">Creating and Running a Flow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#sequential-flow">Sequential Flow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#parallel-flow-with-join">Parallel Flow with Join</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#message-filtering">Message Filtering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#execution-graph-vs-message-graph">Execution Graph vs. Message Graph</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#advanced-example-conditional-loop-filtered-summary">🔁 Advanced Example: Conditional Loop + Filtered Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#advanced-example-cycles-with-activation-group-examples">🔁 Advanced Example: Cycles With Activation Group Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-1-loop-with-multiple-paths-all-activation-abcb">Example 1: Loop with Multiple Paths - “All” Activation (A→B→C→B)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-2-loop-with-multiple-paths-any-activation-ab-c1-c2-b">Example 2: Loop with Multiple Paths - “Any” Activation (A→B→(C1,C2)→B)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#example-3-mixed-activation-groups">Example 3: Mixed Activation Groups</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/graph-flow.html#key-takeaways-for-activation-groups">Key Takeaways for Activation Groups</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  
  <div class="tocsection editthispage">
    <a href="https://github.com/microsoft/autogen/edit/main/python/docs/src/user-guide/agentchat-user-guide/graph-flow.ipynb">
      <svg class="svg-inline--fa fa-pencil" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pencil" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path></svg><!-- <i class="fa-solid fa-pencil"></i> Font Awesome fontawesome.com -->
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="https://microsoft.github.io/autogen/stable/_sources/user-guide/agentchat-user-guide/graph-flow.ipynb.txt">
      <svg class="svg-inline--fa fa-file-lines" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-lines" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><!-- <i class="fa-solid fa-file-lines"></i> Font Awesome fontawesome.com --> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer="" src="./GraphFlow (Workflows) — AutoGen_files/bootstrap.js"></script>
<script defer="" src="./GraphFlow (Workflows) — AutoGen_files/pydata-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Microsoft.
      <br>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item"><p><a href="https://go.microsoft.com/fwlink/?LinkId=521839">Privacy Policy</a> | <a href="https://go.microsoft.com/fwlink/?linkid=2259814">Consumer Health Privacy</a> </p></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
        <div class="footer-item"><script src="./GraphFlow (Workflows) — AutoGen_files/banner-override(1).js"></script></div>
      
    </div>
  
</div>

  </footer>
  
<div role="status" aria-live="assertive" style="position: absolute; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip-path: inset(50%); white-space: nowrap; border: 0px;"></div></body></html>